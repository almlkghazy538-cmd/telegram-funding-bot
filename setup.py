import os
import sys

def setup():
    """ุฅุนุฏุงุฏ ุงููุธุงู"""
    print("=" * 50)
    print("๐ ุฅุนุฏุงุฏ ูุดุฑูุน ุจูุช ุชูููู ุงููููุงุช")
    print("=" * 50)
    
    # 1. ุชุซุจูุช ุงููุชุทูุจุงุช
    print("\n1๏ธโฃ ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ...")
    os.system("pip install -r requirements.txt")
    
    # 2. ุฅูุดุงุก ููู .env ุฅุฐุง ูู ููู ููุฌูุฏุงู
    print("\n2๏ธโฃ ุฅูุดุงุก ููู ุงูุฅุนุฏุงุฏุงุช...")
    if not os.path.exists(".env"):
        with open(".env", "w", encoding="utf-8") as f:
            f.write("BOT_TOKEN=8436742877:AAGhCfnC9hbW7Sa4gMTroYissoljCjda9Ow\n")
            f.write("ADMIN_ID=6130994941\n")
            f.write("DATABASE_URL=sqlite:///bot_database.db\n")
        print("โ ุชู ุฅูุดุงุก ููู .env")
        print("โ๏ธ  ุชุฐูุฑ ุชุนุฏูู ุงูุชููู ูู ููู .env")
    else:
        print("โ ููู .env ููุฌูุฏ ุจุงููุนู")
    
    # 3. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
    print("\n3๏ธโฃ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช...")
    try:
        from database import init_database
        init_database()
        print("โ ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช")
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช: {e}")
    
    # 4. ุงูุชุญูู ูู ุงูุชููู
    print("\n4๏ธโฃ ุงูุชุญูู ูู ุงูุชููู...")
    from config import Config
    if Config.BOT_TOKEN == "ุถุน_ุชููู_ุงูุจูุช_ููุง":
        print("โ ูู ุชูู ุจูุถุน ุชููู ุงูุจูุช!")
        print("๐ ูู ุจุชุนุฏูู ููู .env ููุถุน ุงูุชููู ุงูุตุญูุญ")
        print("๐ก ุงุญุตู ุนูู ุงูุชููู ูู @BotFather")
    else:
        print(f"โ ุงูุชููู ูุถุจูุท ({Config.BOT_TOKEN[:10]}...)")
    
    print("\n" + "=" * 50)
    print("โ ุชู ุงูุฅุนุฏุงุฏ ุจูุฌุงุญ!")
    print("\n๐ง ุงูุฎุทูุงุช ุงูุชุงููุฉ:")
    print("1. ุงูุชุญ ููู .env ูุถุน ุชููู ุงูุจูุช ุงูุตุญูุญ")
    print("2. ุดุบู ุงูุจูุช: python main.py")
    print("3. ุงุฐูุจ ููุจูุช ูู ุชููุฌุฑุงู ูุฃุฑุณู /start")
    print("4. ูู ููุญุฉ ุงูุชุญููุ ุฃุถู ุงููููุงุช ูุงููุฌููุนุงุช")
    print("=" * 50)

if __name__ == "__main__":
    setup()
